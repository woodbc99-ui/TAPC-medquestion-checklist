<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Medical Questions Planner</title>

  <!-- Canva SDKs REMOVED on purpose; this file is standalone -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <style>
    body {
      box-sizing: border-box;
    }
    html, body {
      height: 100%;
    }
    @media print {
      .no-print { display: none !important; }
      .print-only { display: block !important; }
      body { background: white !important; }
      .bg-blue-50 { background: white !important; }
      .bg-blue-100 { background: white !important; }
      .shadow-lg { box-shadow: none !important; }
    }
    .print-only { display: none; }
  </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>

 <body class="min-h-full bg-blue-50 font-sans">
  <main class="container mx-auto px-4 py-8 max-w-4xl">
   <header class="text-center mb-0 bg-gradient-to-r from-blue-600 to-blue-900 rounded-t-lg p-6 text-white no-print">
    <h1 id="form-title" class="text-3xl font-bold mb-2">ü¶¥ Rheumatic Disease Medication Questions</h1>
    <p id="subtitle" class="text-lg text-blue-100">Personalized consultation planner for young adults</p>
   </header>

   <!-- Main Form (no-print) -->
   <div class="bg-white rounded-b-lg shadow-lg p-6 mb-6 no-print">
    <!-- Patient Information Form -->
    <h2 class="text-xl font-semibold text-blue-800 mb-6 flex items-center">
      <span class="bg-blue-100 rounded-full p-2 mr-3">üë§</span> Patient Information
    </h2>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
     <div>
      <label for="patient-name" class="block text-sm font-medium text-gray-700 mb-2">Patient Name</label>
      <input type="text" id="patient-name" class="patient-info-input w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Enter your name">
     </div>

     <div>
      <label for="patient-age" class="block text-sm font-medium text-gray-700 mb-2">Age</label>
      <input type="number" id="patient-age" class="patient-info-input w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Enter your age" min="1" max="120">
     </div>

     <div class="md:col-span-2">
      <label for="rheumatic-condition" class="block text-sm font-medium text-gray-700 mb-2">Rheumatic Condition</label>
      <input type="text" id="rheumatic-condition" class="patient-info-input w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="e.g., Rheumatoid Arthritis, Lupus, Fibromyalgia">
     </div>

     <div class="md:col-span-2">
      <label for="current-medications" class="block text-sm font-medium text-gray-700 mb-2">Current Medication List</label>
      <textarea id="current-medications" rows="3" class="patient-info-input w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="List all current medications, dosages, and frequency (e.g., Methotrexate 15mg weekly, Prednisone 5mg daily)"></textarea>
     </div>

     <div class="md:col-span-2">
      <label for="new-changed-medications" class="block text-sm font-medium text-gray-700 mb-2">New or Recently Changed Medications</label>
      <textarea id="new-changed-medications" rows="3" class="patient-info-input w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="List any new medications or recent changes to existing medications"></textarea>
     </div>
    </div>

    <!-- Questions Section Header -->
    <h2 class="text-xl font-semibold text-blue-800 mb-6 flex items-center border-t border-gray-200 pt-6">
      <span class="bg-blue-100 rounded-full p-2 mr-3">‚úÖ</span> Select Questions for Your Pharmacist
    </h2>

    <div class="grid gap-6">
     <!-- Lifestyle Section -->
     <div class="mb-6">
      <button class="category-toggle w-full text-left bg-blue-100 hover:bg-blue-200 transition-colors duration-200 rounded-t-lg p-4 border border-gray-200 border-b-0" data-category="lifestyle">
        <h2 class="text-xl font-semibold text-blue-800 flex items-center justify-between">
          <span class="flex items-center">
            <span class="bg-white rounded-full p-2 mr-3">üèÉ‚Äç‚ôÄÔ∏è</span> Lifestyle
          </span>
          <span class="toggle-icon text-blue-700 transform transition-transform duration-200 text-2xl"> ‚ñº </span>
        </h2>
      </button>

      <div id="lifestyle-content" class="category-content border border-gray-200 border-t-0 rounded-b-lg p-4">
       <!-- Sports + Activities Subsection -->
       <div class="ml-2 mb-6 border border-gray-300 rounded-lg p-3">
        <button class="subcategory-toggle w-full text-left bg-blue-100 hover:bg-blue-200 transition-colors duration-200 rounded-lg p-3" data-subcategory="sports-activities">
          <h3 class="font-medium text-blue-700 mb-2 flex items-center justify-between">
            <span class="flex items-center">
              <span class="bg-white rounded-full p-1 mr-2 text-sm">üèÉ‚Äç‚ôÄÔ∏è</span> Sports + Activities
            </span>
            <span class="subtoggle-icon text-blue-700 text-xl"> ‚ñº </span>
          </h3>
        </button>

        <div id="sports-activities-content" class="subcategory-content ml-6 space-y-4">
          <label class="flex items-start space-x-3 cursor-pointer hover:bg-blue-50 p-2 rounded">
            <input type="checkbox" class="question-checkbox mt-1 h-4 w-4 text-blue-600 rounded border-gray-300"
                   data-category="Lifestyle - Sports + Activities"
                   data-question="Will this affect my ability to participate in sports or other activities?">
            <span class="text-gray-700">Will this affect my ability to participate in sports or other activities?</span>
          </label>
        </div>
       </div>

       <!-- General Subsection -->
       <div class="ml-2 mb-6 border border-gray-300 rounded-lg p-3">
        <button class="subcategory-toggle w-full text-left bg-blue-100 hover:bg-blue-200 transition-colors duration-200 rounded-lg p-3" data-subcategory="general">
          <h3 class="font-medium text-blue-700 mb-2 flex items-center justify-between">
            <span class="flex items-center">
              <span class="bg-white rounded-full p-1 mr-2 text-sm">‚ö°</span> General
            </span>
            <span class="subtoggle-icon text-blue-700 text-xl"> ‚ñº </span>
          </h3>
        </button>

        <div id="general-content" class="subcategory-content ml-6 space-y-4">
          <label class="flex items-start space-x-3 cursor-pointer hover:bg-blue-50 p-2 rounded">
            <input type="checkbox" class="question-checkbox mt-1 h-4 w-4 text-blue-600 rounded border-gray-300"
                   data-category="Lifestyle - General"
                   data-question="How will this medication affect my lifestyle?">
            <span class="text-gray-700">How will this medication affect my lifestyle?</span>
          </label>

          <label class="flex items-start space-x-3 cursor-pointer hover:bg-blue-50 p-2 rounded">
            <input type="checkbox" class="question-checkbox mt-1 h-4 w-4 text-blue-600 rounded border-gray-300"
                   data-category="Lifestyle - General"
                   data-question="Will this affect my sleep and energy levels?">
            <span class="text-gray-700">Will this affect my sleep and energy levels?</span>
          </label>

          <label class="flex items-start space-x-3 cursor-pointer hover:bg-blue-50 p-2 rounded">
            <input type="checkbox" class="question-checkbox mt-1 h-4 w-4 text-blue-600 rounded border-gray-300"
                   data-category="Lifestyle - General"
                   data-question="Does this affect what I am able to eat and when?">
            <span class="text-gray-700">Does this affect what I am able to eat and when?</span>
          </label>

          <label class="flex items-start space-x-3 cursor-pointer hover:bg-blue-50 p-2 rounded">
            <input type="checkbox" class="question-checkbox mt-1 h-4 w-4 text-blue-600 rounded border-gray-300"
                   data-category="Lifestyle - General"
                   data-question="Do I need to avoid alcohol?">
            <span class="text-gray-700">Do I need to avoid alcohol?</span>
          </label>
        </div>
       </div>

       <!-- Travelling Subsection -->
       <div class="ml-2 mb-6 border border-gray-300 rounded-lg p-3">
        <button class="subcategory-toggle w-full text-left bg-blue-100 hover:bg-blue-200 transition-colors duration-200 rounded-lg p-3" data-subcategory="travelling">
          <h3 class="font-medium text-blue-700 mb-2 flex items-center justify-between">
            <span class="flex items-center">
              <span class="bg-white rounded-full p-1 mr-2 text-sm">‚úàÔ∏è</span> Travelling
            </span>
            <span class="subtoggle-icon text-blue-700 text-xl"> ‚ñº </span>
          </h3>
        </button>

        <div id="travelling-content" class="subcategory-content ml-6 space-y-4">
          <label class="flex items-start space-x-3 cursor-pointer hover:bg-blue-50 p-2 rounded">
            <input type="checkbox" class="question-checkbox mt-1 h-4 w-4 text-blue-600 rounded border-gray-300"
                   data-category="Travelling"
                   data-question="How do I transport my medications?">
            <span class="text-gray-700">How do I transport my medications?</span>
          </label>

          <label class="flex items-start space-x-3 cursor-pointer hover:bg-blue-50 p-2 rounded">
            <input type="checkbox" class="question-checkbox mt-1 h-4 w-4 text-blue-600 rounded border-gray-300"
                   data-category="Travelling"
                   data-question="Can I bring my medication and needles/injections through airport security? Any special considerations">
            <span class="text-gray-700">Can I bring my medication and needles/injections through airport security? Any special considerations</span>
          </label>

          <label class="flex items-start space-x-3 cursor-pointer hover:bg-blue-50 p-2 rounded">
            <input type="checkbox" class="question-checkbox mt-1 h-4 w-4 text-blue-600 rounded border-gray-300"
                   data-category="Travelling"
                   data-question="If I'm traveling across time zones, how should I adjust my medication schedule?">
            <span class="text-gray-700">If I'm traveling across time zones, how should I adjust my medication schedule?</span>
          </label>

          <label class="flex items-start space-x-3 cursor-pointer hover:bg-blue-50 p-2 rounded">
            <input type="checkbox" class="question-checkbox mt-1 h-4 w-4 text-blue-600 rounded border-gray-300"
                   data-category="Travelling"
                   data-question="What should I do if I lose or run out of my medication while away from home?">
            <span class="text-gray-700">What should I do if I lose or run out of my medication while away from home?</span>
          </label>
        </div>
       </div>

       <!-- Pregnancy + Family Planning Subsection -->
       <div class="ml-2 mb-6 border border-gray-300 rounded-lg p-3">
        <button class="subcategory-toggle w-full text-left bg-blue-100 hover:bg-blue-200 transition-colors duration-200 rounded-lg p-3" data-subcategory="pregnancy-family">
          <h3 class="font-medium text-blue-700 mb-2 flex items-center justify-between">
            <span class="flex items-center">
              <span class="bg-white rounded-full p-1 mr-2 text-sm">üë∂</span> Pregnancy + Family Planning
            </span>
            <span class="subtoggle-icon text-blue-700 text-xl"> ‚ñº </span>
          </h3>
        </button>

        <div id="pregnancy-family-content" class="subcategory-content ml-6 space-y-4">
          <label class="flex items-start space-x-3 cursor-pointer hover:bg-blue-50 p-2 rounded">
            <input type="checkbox" class="question-checkbox mt-1 h-4 w-4 text-blue-600 rounded border-gray-300"
                   data-category="Pregnancy + Family Planning"
                   data-question="Is it safe to take this medication if I'm pregnant, trying to get pregnant, or breastfeeding?">
            <span class="text-gray-700">Is it safe to take this medication if I'm pregnant, trying to get pregnant, or breastfeeding?</span>
          </label>

          <label class="flex items-start space-x-3 cursor-pointer hover:bg-blue-50 p-2 rounded">
            <input type="checkbox" class="question-checkbox mt-1 h-4 w-4 text-blue-600 rounded border-gray-300"
                   data-category="Pregnancy + Family Planning"
                   data-question="What should I know about contraception use with my medication?">
            <span class="text-gray-700">What should I know about contraception use with my medication?</span>
          </label>

          <label class="flex items-start space-x-3 cursor-pointer hover:bg-blue-50 p-2 rounded">
            <input type="checkbox" class="question-checkbox mt-1 h-4 w-4 text-blue-600 rounded border-gray-300"
                   data-category="Pregnancy + Family Planning"
                   data-question="Could this medication affect fertility or sperm/egg health?">
            <span class="text-gray-700">Could this medication affect fertility or sperm/egg health?</span>
          </label>
        </div>
       </div>
      </div>
     </div>

     <!-- Medication Information Section -->
     <div class="mb-6">
      <button class="category-toggle w-full text-left bg-blue-100 hover:bg-blue-200 transition-colors duration-200 rounded-t-lg p-4 border border-gray-200 border-b-0" data-category="medication">
        <h2 class="text-xl font-semibold text-blue-800 flex items-center justify-between">
          <span class="flex items-center">
            <span class="bg-white rounded-full p-2 mr-3">üíä</span> Medication Information
          </span>
          <span class="toggle-icon text-blue-700 transform transition-transform duration-200 text-2xl"> ‚ñº </span>
        </h2>
      </button>

      <div id="medication-content" class="category-content border border-gray-200 border-t-0 rounded-b-lg p-4 ml-8 space-y-4">
        <!-- (medication questions unchanged from your version) -->
        <label class="flex items-start space-x-3 cursor-pointer hover:bg-blue-50 p-2 rounded">
          <input
